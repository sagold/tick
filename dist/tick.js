!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("tick",[],i):"object"==typeof exports?exports.tick=i():t.tick=i()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={36:(t,i,e)=>{let s;e.r(i),e.d(i,{CONTINUE:()=>a,Debounce:()=>r,EXIT:()=>n,Timeout:()=>l,default:()=>d,loop:()=>h});const n=!0,a=!1;function o(){}!function(){try{s=window.requestAnimationFrame||window.webkitRequestAnimationFrame}catch(t){}}();const h=new class{constructor(){this.enabled=!1,this.running=!1,this.animations=[],this.nextAnimations=[],this.tick=this.tick.bind(this)}add(t){var i;if(t.calculate){t.render=null!==(i=t.render)&&void 0!==i?i:o;let e=this.animations;this.running&&(e=this.nextAnimations),-1===e.indexOf(t)&&(e.push(t),this.start())}else console.log("Not a tickable object",t)}start(){!1===this.enabled&&"function"==typeof s&&(this.enabled=!0,this.tick())}tick(){let t;const i=Date.now();let{animations:e,nextAnimations:a}=this;for(this.running=!0,t=0;t<e.length;t+=1)e[t].calculate(i)!==n&&-1===a.indexOf(e[t])&&a.push(e[t]);for(this.running=!1,this.swapAnimations(),e=this.animations,a=this.nextAnimations,this.running=!0,t=0;t<e.length;t+=1)e[t].render(i)!==n&&-1===a.indexOf(e[t])&&a.push(e[t]);this.running=!1,this.swapAnimations(),this.animations.length>0?s(this.tick):this.enabled=!1}swapAnimations(){const t=this.animations;t.length=0,this.animations=this.nextAnimations,this.nextAnimations=t}reset(){this.animations.length=0,this.nextAnimations.length=0}};const r=class{constructor(t,i,e=100,s=200){this.active=!1,this.lastDebounce=0,this.lastUpdate=0,this.updated=!1,this.updateInterval=e,this.onUpdate=t,this.endTimeout=s,this.onEnd=i}start(t){this.update(t),this.active=!0,h.add(this)}update(t){this.updated=!0,this.arg=null!=t?t:this.arg,this.lastUpdate=Date.now()}calculate(t){return t-this.lastUpdate>this.endTimeout?(this.onEnd(this.arg),this.arg=void 0,this.active=!1,n):(this.updated&&t-this.lastDebounce>this.updateInterval&&(this.updated=!1,this.lastDebounce=t,this.onUpdate(this.arg)),a)}};const l=class{constructor(t,i){this.loopState=n,this.loopState=n,this.ttl=i,this.sendTimeout=t}start(){return this.keepAlive(),!1===this.isActive()&&(this.loopState=a,h.add(this)),this}isActive(){return this.loopState===a}getTime(){return this.lastUpdate}calculate(t){return this.time=t-this.lastUpdate,this.time>this.ttl&&(this.sendTimeout(t,t-this.lastUpdate),this.loopState=n),this.loopState}keepAlive(){return this.lastUpdate=Date.now(),this.lastUpdate}},d=h}},i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{}};return t[s](n,n.exports,e),n.exports}return e.d=(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(36)})()}));